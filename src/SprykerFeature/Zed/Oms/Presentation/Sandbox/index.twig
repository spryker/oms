{% extends '@Application/Layout/layout.twig' %}
{% block content %}

    <a href="/oms/index/draw?process=Nopayment01&format=gif&font=14">'Nopayment' Prozess anzeigen</a>

    <form action="/oms/sandbox/add">
        <button>Add OrderItem</button>
    </form>

    <table border="1px solid lightgrey" width="100%">
        <tr>
            <th>OrderItem ID</th>
            <th>Process</th>
            <th>State</th>
            <th>Event triggern</th>
        </tr>
        {% for orderItem in orderItems %}
        <tr>
            <td>{{ orderItem['id'] }}</td>
            <td>{{ orderItem['process'] }}</td>
            <td>{{ orderItem['state'] }}</td>
            <td>
                {% for event in orderItem['events'] %}
                <form action="/oms/sandbox/trigger">
                    <input type="hidden" name="event" value="{{ event }}">
                    <input type="hidden" name="id" value="{{ orderItem['id'] }}">
                    <button>Event '{{ event }}' triggern</button>
                </form>
                {%  endfor %}
            </td>
        </tr>
        {% endfor %}
    </table>

{% endblock %}
